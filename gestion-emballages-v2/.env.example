# Environment Configuration Template
# Copy this file to .env and update the values for your environment

# =================
# Application Settings
# =================
NODE_ENV=development
PORT=3000
API_PREFIX=api
API_VERSION=v1

# =================
# Security Settings
# =================
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=1d

# =================
# Database Configuration
# =================
DB_TYPE=postgres
DB_HOST=localhost
DB_PORT=5432
DB_USERNAME=dev_user
DB_PASSWORD=dev_password
DB_DATABASE=gestion_emballages_dev
DB_SYNCHRONIZE=true
DB_LOGGING=true

# Database SSL (for production)
DB_SSL=false
DB_SSL_REJECT_UNAUTHORIZED=true

# =================
# Redis Configuration
# =================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# =================
# MinIO Configuration
# =================
MINIO_ENDPOINT=localhost
MINIO_PORT=9000
MINIO_ACCESS_KEY=devuser
MINIO_SECRET_KEY=devpassword123
MINIO_BUCKET_NAME=gestion-emballages-dev
MINIO_USE_SSL=false

# =================
# CORS Configuration
# =================
CORS_ORIGIN=http://localhost:4200
CORS_CREDENTIALS=true

# =================
# File Upload Configuration
# =================
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=jpg,jpeg,png,pdf,doc,docx,xls,xlsx

# Upload directories
UPLOADS_DIR=./uploads
TEMP_DIR=./temp

# =================
# Email Configuration (if needed)
# =================
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@example.com
SMTP_PASS=your-email-password
EMAIL_FROM=noreply@gestion-emballages.com

# =================
# Logging Configuration
# =================
LOG_LEVEL=info
LOG_FILE=./logs/application.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5

# =================
# Rate Limiting
# =================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# =================
# Session Configuration
# =================
SESSION_SECRET=your-session-secret-change-this
SESSION_MAX_AGE=86400000

# =================
# Frontend Configuration
# =================
FRONTEND_URL=http://localhost:4200

# =================
# Health Check Configuration
# =================
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_DATABASE=true
HEALTH_CHECK_REDIS=true
HEALTH_CHECK_MINIO=true

# =================
# Production Settings
# =================
# Uncomment and configure for production

# SSL Configuration
# SSL_KEY_PATH=/path/to/ssl/key.pem
# SSL_CERT_PATH=/path/to/ssl/cert.pem

# Security Headers
# SECURITY_HSTS_MAX_AGE=31536000
# SECURITY_HSTS_INCLUDE_SUBDOMAINS=true
# SECURITY_CONTENT_SECURITY_POLICY=default-src 'self'

# Monitoring
# SENTRY_DSN=your-sentry-dsn
# NEW_RELIC_LICENSE_KEY=your-newrelic-key

# =================
# Docker-specific Settings
# =================
# These are used when running with Docker Compose

# Database (Docker Compose)
DOCKER_DB_HOST=postgres
DOCKER_REDIS_HOST=redis
DOCKER_MINIO_HOST=minio

# Network settings
DOCKER_NETWORK=gestion-emballages-network

# Volume settings
POSTGRES_DATA_PATH=./docker/data/postgres
REDIS_DATA_PATH=./docker/data/redis
MINIO_DATA_PATH=./docker/data/minio

# =================
# Development Settings
# =================
# Hot reload
HOT_RELOAD=true

# Debug mode
DEBUG=true

# API Documentation
SWAGGER_ENABLED=true
SWAGGER_PATH=api-docs

# Development database seeding
SEED_DATABASE=false
SEED_ADMIN_EMAIL=admin@gestion-emballages.com
SEED_ADMIN_PASSWORD=admin123

# =================
# Testing Configuration
# =================
TEST_DATABASE_URL=postgresql://postgres:postgres@localhost:5433/gestion_emballages_test
TEST_REDIS_URL=redis://localhost:6380
TEST_TIMEOUT=30000

# =================
# Backup Configuration
# =================
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=gestion-emballages-backups
BACKUP_S3_REGION=us-east-1

# =================
# Performance Settings
# =================
# Cache TTL (seconds)
CACHE_TTL=3600

# Query timeout (milliseconds)
QUERY_TIMEOUT=30000

# Connection pool settings
DB_CONNECTION_LIMIT=20
DB_CONNECTION_TIMEOUT=60000